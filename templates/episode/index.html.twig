{% extends 'base.html.twig' %}

{% block body %}
    <main class="container text-center">
        <section class="row justify-content-md-center">
            {% for epi in episode %}
                {% set url = path ('episode_detail', {'slug': epi.slug}) %}
                <div class="card m-5 " style="width: 25rem; height:49rem">
                    <div style="height: 110px">
                        <h3 class="card-title mt-3">{{ epi.title }}<h3>                    
                    </div>
                    <div>
                        <img src="{{ epi.coverImage }}" class="card-img-top mt-3" alt="...">
                    </div>
                    <div class="card-body">
                        <div>
                            <p class="card-text mt-3">{{ epi.introduction }}</p>
                        </div>
                        <div class="mt-3">
                            <time>Publi√© le : {{ epi.createdAt | date('d/m/Y') }}</time>
                        </div>
                        <div class="mt-3">                        
                            <audio controls preload="none">
                                <source src="{{ epi.audio }}">
                            </audio>
                        </div>
                        <div class="mt-4">
                            <a href="{{ url }}" class="btn btn-primary">Plus d'infos</a>                        
                            {% if is_granted('ROLE_ADMIN') %}
                                <a href="#" class="btn btn-warning ms-5">Modifier</a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            {% endfor %}
            <div class="d-flex justify-content-center">
				{% do episode.setPageRange(2) %}
				{{ knp_pagination_render(episode, 'base/pagination.html.twig') }}
			</div>
        </section>
    </main>
{% endblock %}
